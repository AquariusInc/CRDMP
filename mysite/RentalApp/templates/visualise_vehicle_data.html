{% extends 'base.html' %}

{% block title %}Vehicle Visualisation{% endblock %}
{% block content %}

<style>
body {font-family: Arial;}

/* Style the tab */
.tab {
	overflow: hidden;
	border: 1px solid #ccc;
	background-color: #f1f1f1;
}

/* Style the buttons inside the tab */
.tab button {
	background-color: inherit;
	float: left;
	border: none;
	outline: none;
	cursor: pointer;
	padding: 14px 16px;
	transition: 0.3s;
	font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
	background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
	background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
	display: none;
	padding: 6px 12px;
	border: 1px solid #ccc;
	border-top: none;
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>

<div class="container">
	<div class="tab">
	  <button class="tablinks" onclick="openTab(event, 'Body Type')">Body Type</button>
	  <button class="tablinks" onclick="openTab(event, 'Make')">Make</button>
	  <button class="tablinks" onclick="openTab(event, 'Model')">Model</button>
	  <button class="tablinks" onclick="openTab(event, 'Year')">Year</button>
	  <button class="tablinks" onclick="openTab(event, 'Price')">Price</button>
	  <button class="tablinks" onclick="openTab(event, 'Seating')">Seating</button>
	  <button class="tablinks" onclick="openTab(event, 'Drive Train')">Drive Train</button>
	</div>
	
	<div id="Body Type" class="tabcontent">
	  <p>{{ bodytypes.labels }}</p>
	  <p>{{ bodytypes.data }}</p>
	  <canvas id="myChart" width="900" height="400"></canvas>
		<script>
		var ctx = document.getElementById("myChart");
		
		var myChart = new Chart(ctx, {
			type: 'pie',
			data: {
				labels: [],
				datasets: [{
					label: '# of Votes',
					data: {{ bodytypes.data }},
				}]
			},
		});
		</script>
	</div>

	<div id="Make" class="tabcontent">
	</div>

	<div id="Model" class="tabcontent">
	</div>
	
	<div id="Year" class="tabcontent">
	</div>
	
	<div id="Price" class="tabcontent">
	</div>
	
	<div id="Seating" class="tabcontent">
	</div>
	
	<div id="Drive Train" class="tabcontent">
	</div>
	
	<script>
	function openTab(evt, tabName) {
		var i, tabcontent, tablinks;
		tabcontent = document.getElementsByClassName("tabcontent");
		for (i = 0; i < tabcontent.length; i++) {
			tabcontent[i].style.display = "none";
		}
		tablinks = document.getElementsByClassName("tablinks");
		for (i = 0; i < tablinks.length; i++) {
			tablinks[i].className = tablinks[i].className.replace(" active", "");
		}
		document.getElementById(tabName).style.display = "block";
		evt.currentTarget.className += " active";
	}
	</script>
	
</div>
{% endblock %}